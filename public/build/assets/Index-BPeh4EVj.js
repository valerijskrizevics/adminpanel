import{r as x,c as h,o as l,w as n,a as t,b as u,d,e as f,t as c,u as w,P as g,f as o,F as v,g as k,h as N,W as B}from"./app-BmkWWvPF.js";import{_ as V}from"./Breadcrumbs-WtgNLoEL.js";import{_ as C}from"./ConfirmationModal-BaOKPLRj.js";import{_ as M}from"./AppLayout-zqqo_-nE.js";import"./Modal-DH5VUQb0.js";import"./ResponsiveNavLink-6ezCFB8j.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"bg-white min-h-screen"},$={class:"max-w-3xl mx-auto p-6 bg-white"},A={key:0,class:"bg-green-500 text-white p-4 mb-4 rounded am-ml-6"},D={class:"mb-4 sm-ml-6"},T={class:"min-w-full bg-white border border-gray-300 sm-ml-6"},U={key:0,class:"text-left px-4 py-2"},j={class:"text-left align-top px-4 py-2"},E={class:"text-left align-top px-4 py-2 sm-whitespace-nowrap"},F={key:0,class:"text-left align-top px-4 py-2 whitespace-nowrap"},O=["onClick"],H={__name:"Index",props:{posts:Array,canViewBlog:Boolean,canViewNews:Boolean,canManage:Boolean,canManageAny:Boolean,currentUser:Object,flash:Object},setup(s){const r=x(!1),m=x(null),y=i=>{m.value=i,r.value=!0},p=()=>{m.value&&(B.delete(route("news.destroy",m.value.id)),r.value=!1)};return(i,e)=>(l(),h(M,{title:"Manage News Posts",canViewBlog:s.canViewBlog,canViewNews:s.canViewNews},{default:n(()=>{var b;return[t("div",P,[t("div",$,[u(V,{items:[{label:"News",link:"#"}]}),e[7]||(e[7]=t("h1",{class:"text-2xl font-semibold mb-4 sm-ml-6"},"News Posts",-1)),(b=s.flash)!=null&&b.success?(l(),d("div",A,c(s.flash.success),1)):f("",!0),t("div",D,[s.canManage?(l(),h(w(g),{key:0,href:i.route("news.create"),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},{default:n(()=>e[2]||(e[2]=[o(" New ")])),_:1},8,["href"])):f("",!0)]),t("table",T,[t("thead",null,[t("tr",null,[e[3]||(e[3]=t("th",{class:"text-left px-4 py-2"},"Title",-1)),e[4]||(e[4]=t("th",{class:"text-left px-4 py-2"},"User",-1)),s.canManage?(l(),d("th",U,"Actions")):f("",!0)])]),t("tbody",null,[(l(!0),d(v,null,k(s.posts,a=>(l(),d("tr",{key:a.id},[t("td",j,[u(w(g),{href:i.route("news.show",a.id),class:"text-blue-600"},{default:n(()=>[o(c(a.title),1)]),_:2},1032,["href"])]),t("td",E,c(a.user.name),1),s.canManage&&(s.canManageAny||a.user.id===s.currentUser.id)?(l(),d("td",F,[u(w(g),{href:i.route("news.edit",a.id),class:"text-blue-600"},{default:n(()=>e[5]||(e[5]=[o("Edit")])),_:2},1032,["href"]),e[6]||(e[6]=o(" | ")),t("button",{onClick:N(W=>y(a),["prevent"]),class:"text-red-600"},"X",8,O)])):f("",!0)]))),128))])])])]),u(C,{show:r.value,onClose:e[1]||(e[1]=a=>r.value=!1)},{title:n(()=>e[8]||(e[8]=[o(" Delete News Post ")])),content:n(()=>e[9]||(e[9]=[o(" Are you sure you want to delete this post? ")])),footer:n(()=>[t("button",{onClick:e[0]||(e[0]=a=>r.value=!1),class:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"},"Cancel"),t("button",{onClick:p,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 ml-3"},"Delete")]),_:1},8,["show"])]}),_:1},8,["canViewBlog","canViewNews"]))}};export{H as default};
