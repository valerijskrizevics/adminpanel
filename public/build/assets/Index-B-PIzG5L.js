import{r as x,c as h,o,w as a,a as t,b as u,d,e as f,t as c,u as g,P as b,f as n,F as v,g as B,h as k,W as V}from"./app-BmkWWvPF.js";import{_ as C}from"./Breadcrumbs-WtgNLoEL.js";import{_ as M}from"./ConfirmationModal-BaOKPLRj.js";import{_ as N}from"./AppLayout-zqqo_-nE.js";import"./Modal-DH5VUQb0.js";import"./ResponsiveNavLink-6ezCFB8j.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"bg-white min-h-screen"},$={class:"max-w-3xl mx-auto p-6 bg-white"},A={key:0,class:"bg-green-500 text-white p-4 mb-4 rounded am-ml-6"},D={class:"mb-4 sm-ml-6"},T={class:"min-w-full bg-white border border-gray-300 sm-ml-6"},U={key:0,class:"text-left px-4 py-2"},j={class:"text-left align-top px-4 py-2"},E={class:"text-left align-top px-4 py-2 sm-whitespace-nowrap"},F={key:0,class:"text-left align-top px-4 py-2 whitespace-nowrap"},O=["onClick"],H={__name:"Index",props:{posts:Array,canViewBlog:Boolean,canViewNews:Boolean,canManage:Boolean,canManageAny:Boolean,currentUser:Object,flash:Object},setup(s){const r=x(!1),m=x(null),y=i=>{m.value=i,r.value=!0},p=()=>{m.value&&(V.delete(route("blog.destroy",m.value.id)),r.value=!1)};return(i,e)=>(o(),h(N,{title:"Manage Blog Posts",canViewBlog:s.canViewBlog,canViewNews:s.canViewNews},{default:a(()=>{var w;return[t("div",P,[t("div",$,[u(C,{items:[{label:"Blog",link:"#"}]}),e[7]||(e[7]=t("h1",{class:"text-2xl font-semibold mb-4 sm-ml-6"},"Blog Posts",-1)),(w=s.flash)!=null&&w.success?(o(),d("div",A,c(s.flash.success),1)):f("",!0),t("div",D,[s.canManage?(o(),h(g(b),{key:0,href:i.route("blog.create"),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},{default:a(()=>e[2]||(e[2]=[n(" New ")])),_:1},8,["href"])):f("",!0)]),t("table",T,[t("thead",null,[t("tr",null,[e[3]||(e[3]=t("th",{class:"text-left px-4 py-2"},"Title",-1)),e[4]||(e[4]=t("th",{class:"text-left px-4 py-2"},"User",-1)),s.canManage?(o(),d("th",U,"Actions")):f("",!0)])]),t("tbody",null,[(o(!0),d(v,null,B(s.posts,l=>(o(),d("tr",{key:l.id},[t("td",j,[u(g(b),{href:i.route("blog.show",l.id),class:"text-blue-600"},{default:a(()=>[n(c(l.title),1)]),_:2},1032,["href"])]),t("td",E,c(l.user.name),1),s.canManage&&(s.canManageAny||l.user.id===s.currentUser.id)?(o(),d("td",F,[u(g(b),{href:i.route("blog.edit",l.id),class:"text-blue-600"},{default:a(()=>e[5]||(e[5]=[n("Edit")])),_:2},1032,["href"]),e[6]||(e[6]=n(" | ")),t("button",{onClick:k(W=>y(l),["prevent"]),class:"text-red-600"},"X",8,O)])):f("",!0)]))),128))])])])]),u(M,{show:r.value,onClose:e[1]||(e[1]=l=>r.value=!1)},{title:a(()=>e[8]||(e[8]=[n(" Delete Blog Post ")])),content:a(()=>e[9]||(e[9]=[n(" Are you sure you want to delete this post? ")])),footer:a(()=>[t("button",{onClick:e[0]||(e[0]=l=>r.value=!1),class:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"},"Cancel"),t("button",{onClick:p,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 ml-3"},"Delete")]),_:1},8,["show"])]}),_:1},8,["canViewBlog","canViewNews"]))}};export{H as default};
